{"version":3,"sources":["webpack:///webpack/bootstrap ab2bfdb6f9f4e46392a6","webpack:///./scripts/utils.js","webpack:///./scripts/repository-list.js","webpack:///./scripts/pager.js","webpack:///./scripts/app.js","webpack:///./styles/app.scss","webpack:///./scripts/bootstrap.js","webpack:///./scripts/github-api.js"],"names":["$","selector","context","document","querySelector","element","className","classList","contains","toggle","RepositoryList","rootElement","username","githubApi","repositories","bindEvents","page","renderRepositoryList","getListLoadingTemplate","getUserRepos","catch","error","console","log","then","response","getRepositoryListTemplate","dispatchEvent","CustomEvent","detail","lastPage","template","item","push","id","name","join","innerHTML","el","addEventListener","e","target","src","dataset","repoId","preventDefault","fetchPage","Pager","find","_last","_current","isRendered","i","prev","toggleClass","current","parentNode","last","render","activate","getRoot","App","repositoryList","require","app","pager","run","GithubApi","apiBase","currentPage","endpoint","fetch","getLastPage","headers","get","json","header","token","split"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ab2bfdb6f9f4e46392a6","class $\n{\n  static find(selector, context)\n  {\n    if (!context) {\n      context = document;\n    }\n    return context.querySelector(selector);\n  }\n\n  static hasClass(element, className)\n  {\n    return element.classList.contains(className);\n  }\n\n  static toggleClass(element, className)\n  {\n    return element.classList.toggle(className);\n  }\n}\n\nexport default $\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/utils.js","import $ from './utils';\nimport GithubApi from './github-api';\nimport Pager from './pager';\n\nclass RepositoryList\n{\n  constructor(rootElement, username)\n  {\n    RepositoryList.rootElement = rootElement;\n    this.username = username;\n\n    this.githubApi = new GithubApi();\n    this.repositories = [];\n    this.bindEvents();\n  }\n\n  static getRoot()\n  {\n    return this.rootElement;\n  }\n\n  fetchPage(page)\n  {\n    this.renderRepositoryList(this.getListLoadingTemplate());\n    this.githubApi\n      .getUserRepos(this.username, page)\n      .catch((error) => {\n        console.log(error);\n      })\n      .then((response) => {\n        this.repositories = response;\n        this.renderRepositoryList(this.getRepositoryListTemplate());\n\n        Pager.rootElement.dispatchEvent(new CustomEvent('render', {detail: {page: this.githubApi.lastPage}}));\n      });\n  }\n\n  getRepositoryListTemplate()\n  {\n    let template = [];\n    for (let item of this.repositories) {\n      template.push(`<a href=\"#\" class=\"list-group-item\" data-repo-id=\"${item.id}\" data-src=\"js-repository-item\">${item.name}</a>`);\n    }\n\n    return template.join('')\n  }\n\n  renderRepositoryList(template)\n  {\n    RepositoryList.rootElement.innerHTML = template\n  }\n\n  getListLoadingTemplate()\n  {\n    return '<a class=\"list-group-item\">Loading...</a>';\n  }\n\n  bindEvents()\n  {\n    let el = RepositoryList.rootElement;\n\n    el.addEventListener('click', (e) => {\n      let el = e.target;\n      let src = el.dataset.src;\n\n      switch(src) {\n        case 'js-repository-item':\n          console.log(el.dataset.repoId);\n          break;\n      }\n\n      e.preventDefault();\n    })\n\n    el.addEventListener('fetch-page', (e) => {\n      this.fetchPage(e.detail.page)\n    }, false)\n  }\n}\n\nexport default RepositoryList\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/repository-list.js","import $ from './utils';\nimport RepositoryList from './repository-list'\n\nclass Pager\n{\n  constructor()\n  {\n    Pager.rootElement = $.find('#js-pagination');\n    this._last = 0;\n    this._current = 1;\n    this.isRendered = false;\n    this.bindEvents();\n  }\n\n  set last(last)\n  {\n    this._last = last;\n    return this;\n  }\n\n  get last()\n  {\n    return this._last;\n  }\n\n  set current(current)\n  {\n    this._current = current;\n    this.activate();\n    RepositoryList.getRoot().dispatchEvent(new CustomEvent('fetch-page', {detail: {page: this.current}}));\n  }\n\n  get current()\n  {\n    return this._current;\n  }\n\n  static getRoot()\n  {\n    return Pager.rootElement;\n  }\n\n  render()\n  {\n    if (this.isRendered) {\n      return;\n    }\n\n    let template = ['<li><a href=\"#\" data-src=\"js-prev-page\">Prev</a></li>'];\n    for(let i = 1; i <= this._last; i++) {\n      template.push(`<li class=\"${i===1 ? 'active' : ''}\"><a href=\"#\" data-src=\"js-page\" data-page=\"${i}\">${i}</a></li>`)\n    }\n    template.push('<li><a href=\"#\" data-src=\"js-next-page\">Next</a></li>');\n\n    Pager.rootElement.innerHTML = template.join('')\n    this.isRendered = true;\n  }\n\n  activate()\n  {\n    let prev = $.find('.active', Pager.rootElement);\n    if (prev) {\n      $.toggleClass($.find('.active', Pager.rootElement), 'active');\n    }\n    $.toggleClass($.find(`[data-page=\"${this.current}\"]`, Pager.rootElement).parentNode, 'active')\n  }\n\n  bindEvents()\n  {\n    let el = Pager.rootElement;\n\n    el.addEventListener('click', (e) => {\n      let el = e.target;\n      let src = el.dataset.src;\n      switch(src) {\n        case 'js-prev-page':\n          if (this.current > 1) {\n            this.current = this.current - 1;\n          }\n          break;\n        case 'js-next-page':\n          if (this.current < this.last) {\n            this.current = this.current + 1;\n          }\n          break;\n        case 'js-page':\n          this.current = el.dataset.page;\n          break;\n      }\n\n      e.preventDefault();\n    })\n\n\n    el.addEventListener('render', (e) => {\n      this.last = e.detail.page;\n      this.render();\n    }, false)\n  }\n}\n\nexport default Pager\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/pager.js","import RepositoryList from './repository-list';\nimport $ from './utils';\n\nclass App\n{\n  constructor(rootElement)\n  {\n    this.rootElement = rootElement;\n  }\n\n\n  run(repositoryList)\n  {\n    App.repositoryList = repositoryList;\n\n    App.repositoryList.fetchPage(1)\n  }\n\n  static getRepositoryList()\n  {\n    return App.repositoryList;\n  }\n}\n\nexport default App\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/app.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./styles/app.scss\n// module id = 4\n// module chunks = 0","import App from './app';\nimport RepositoryList from './repository-list';\nimport Pager from './pager';\nimport $ from './utils';\n\nrequire('../styles/app.scss');\n\nlet app = new App($.find('#js-app'));\n\nlet repositoryList = new RepositoryList($.find('#js-repository-list'), 'addyosmani')\nlet pager = new Pager()\n\napp.run(repositoryList);\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/bootstrap.js","class GithubApi\n{\n  constructor()\n  {\n    this.apiBase = 'https://api.github.com';\n    this.lastPage = null;\n  }\n\n  getUserRepos(username, currentPage)\n  {\n    // let endpoint = `${this.apiBase}/users/${username}/repos?page=${currentPage}`;\n    let endpoint = `data.json`;\n\n    return fetch(endpoint)\n      .then((response) => {\n        this.lastPage = this.getLastPage(response.headers.get('Link'));\n        return response.json();\n      })\n  }\n\n  getLastPage(header)\n  {\n    if (!header) {\n      return 10;\n    }\n    let token = header.split(', ')[1].split('>; ')[0].split('page=')[1].split('&')[0];\n    return token;\n  }\n}\n\nexport default GithubApi\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/github-api.js"],"sourceRoot":""}