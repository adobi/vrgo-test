!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=6)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(i),o=function(){function e(t){r(this,e),this.rootElement=t,e.repositoryListPage=s.default.find("#js-repository-list-page"),e.repositoryDetailsPage=s.default.find("#js-repository-details-page")}return a(e,[{key:"run",value:function(e){e.fetchPage(1)}}],[{key:"showPage",value:function(t){switch(t){case"repo-list":case"repo-details":s.default.toggleClass(e.repositoryListPage,"hide"),s.default.toggleClass(e.repositoryDetailsPage,"hide")}}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return a(e,null,[{key:"find",value:function(e,t){return t||(t=document),t.querySelector(e)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"toggleClass",value:function(e,t){return e.classList.toggle(t)}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),o=r(s),u=n(4),l=r(u),c=function(){function e(){a(this,e),this._last=0,this._current=1,this.isRendered=!1,this.bindEvents()}return i(e,[{key:"render",value:function(){if(!(this.isRendered||this._last<=this._current)){for(var t=['<li><a href="#" data-src="js-prev-page">Prev</a></li>'],n=1;n<=this._last;n++)t.push('<li class="'+(1===n?"active":"")+'"><a href="#" data-src="js-page" data-page="'+n+'">'+n+"</a></li>");t.push('<li><a href="#" data-src="js-next-page">Next</a></li>'),e.rootElement.innerHTML=t.join(""),this.isRendered=!0}}},{key:"activate",value:function(){o.default.find(".active",e.rootElement)&&o.default.toggleClass(o.default.find(".active",e.rootElement),"active"),o.default.toggleClass(o.default.find('[data-page="'+this.current+'"]',e.rootElement).parentNode,"active")}},{key:"bindEvents",value:function(){var t=this,n=e.rootElement;n.addEventListener("click",function(e){var n=e.target,r=n.dataset.src;switch(r){case"js-prev-page":t.current>1&&(t.current=+t.current-1);break;case"js-next-page":t.current<t.last&&(t.current=+t.current+1);break;case"js-page":t.current=n.dataset.page}r&&e.preventDefault()}),n.addEventListener("render",function(e){t.last=+e.detail.page,t.render()},!1)}},{key:"last",set:function(e){return this._last=e,this},get:function(){return this._last}},{key:"current",set:function(e){this._current=e,this.activate(),l.default.rootElement.dispatchEvent(new CustomEvent("fetch-page",{detail:{page:this.current}}))},get:function(){return this._current}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(i),o=function(){function e(){r(this,e),this.bindEvents()}return a(e,[{key:"render",value:function(t){var n='<nav class="nav-back"><a href="#" class="btn" data-src="js-back-to-list">Back</a></nav>\n      <div class="repo-details">\n        <h1 class="repo-name">'+t.name+'</h1>\n        <div class="details"><span class="label">Stars: '+t.stargazers_count+'</span> <span class="label">Forks: '+t.forks_count+'</span> <span class="label">Last update: '+t.updated_at.split("T")[0]+"</span></div>\n        <p>"+t.description+'</p>\n        <div class="actions"><a class="btn" href="'+t.html_url+'" target="_blank">View on github</a></div>\n      </div>\n    ';e.rootElement.innerHTML=n}},{key:"bindEvents",value:function(){e.rootElement.addEventListener("click",function(e){var t=e.target,n=t.dataset.src;switch(n){case"js-back-to-list":s.default.showPage("repo-list")}n&&e.preventDefault()})}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),o=r(s),u=n(2),l=r(u),c=n(0),f=r(c),d=n(3),p=r(d),v=function(){function e(t){a(this,e),this.username=t,this.githubApi=new o.default,this.repositoryDetails=new p.default,this.pager=new l.default,this.repositories=[],this.bindEvents()}return i(e,[{key:"fetchPage",value:function(e){var t=this;this.renderRepositoryList(this.getListLoadingTemplate()),this.githubApi.getUserRepos(this.username,e).catch(function(e){console.log(e)}).then(function(e){return t.onFetchPageCompleted(e)})}},{key:"onFetchPageCompleted",value:function(e){this.repositories=e,this.renderRepositoryList(this.getRepositoryListTemplate()),l.default.rootElement.dispatchEvent(new CustomEvent("render",{detail:{page:this.githubApi.lastPage}}))}},{key:"getRepositoryListTemplate",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.repositories[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;e.push('<a href="#" class="list-group-item" data-repo-id="'+s.id+'" data-src="js-repository-item">'+s.name+"</a>")}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e.join("")}},{key:"renderRepositoryList",value:function(t){e.rootElement.innerHTML=t}},{key:"getListLoadingTemplate",value:function(){return'<a class="list-group-item">Loading...</a>'}},{key:"bindEvents",value:function(){var t=this,n=e.rootElement;n.addEventListener("click",function(e){var n=e.target,r=n.dataset.src;switch(r){case"js-repository-item":t.onRepositoryItemClicked(+n.dataset.repoId)}r&&e.preventDefault()}),n.addEventListener("fetch-page",function(e){t.fetchPage(e.detail.page)},!1)}},{key:"onRepositoryItemClicked",value:function(e){var t=this.findRepo(e);this.repositoryDetails.render(t),f.default.showPage("repo-details")}},{key:"findRepo",value:function(e){return this.repositories.filter(function(t){return t.id===e})[0]}}]),e}();t.default=v},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(0),i=r(a),s=n(4),o=r(s),u=n(2),l=r(u),c=n(3),f=r(c),d=n(1),p=r(d);n(5);var v=new i.default(p.default.find("#js-app"));o.default.rootElement=p.default.find("#js-repository-list"),l.default.rootElement=p.default.find("#js-pagination"),f.default.rootElement=p.default.find("#js-repository-details-page");var h=new o.default("addyosmani");v.run(h)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.apiBase="https://api.github.com",this.lastPage=null}return a(e,[{key:"getUserRepos",value:function(e,t){var n=this,r=this.apiBase+"/users/"+e+"/repos?page="+t;return fetch(r).then(function(e){return n.lastPage=n.getLastPage(e.headers.get("Link")),e.json()})}},{key:"getLastPage",value:function(e){return e?e.split(", ")[1].split(">; ")[0].split("page=")[1].split("&")[0]:10}}]),e}();t.default=i}]);
//# sourceMappingURL=bundle.js.map